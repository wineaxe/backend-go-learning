package main

import (
	"fmt"
)

func main() {

	// ПРИМЕР 1: Создание среза литералом
	aSlice := []int{1, 2, 3, 4, 5} // срез из 5 элементов, len=5, cap=5

	fmt.Println(aSlice) // [1 2 3 4 5]

	// ПРИМЕР 2: Создание среза через make
	// make([]тип, длина) создаёт срез заданной длины, заполненный нулевыми значениями
	integers := make([]int, 2) // срез из 2 элементов, оба равны 0 (нулевое значение для int)

	fmt.Println(integers) // [0 0]

	// ПРИМЕР 3: Присваивание nil срезу
	integers = nil // nil срез — это "пустой" срез, len=0, cap=0

	fmt.Println(integers) // [] (пустой срез, но не nil в выводе fmt.Println)

	// ПРИМЕР 4: Создание среза из массива (срез ссылается на массив)
	anArray := [5]int{-1, -2, -3, -4, -5} // массив из 5 элементов

	// anArray[:] создаёт срез, который "смотрит" на весь массив
	// Это не копия! Срез и массив используют одну и ту же память
	refAnArray := anArray[:]

	fmt.Println(anArray) // [-1 -2 -3 -4 -5]

	fmt.Println(refAnArray) // [-1 -2 -3 -4 -5] — те же значения

	// Изменяем элемент массива
	anArray[4] = -100

	fmt.Println(refAnArray) // [-1 -2 -3 -4 -100] — срез тоже изменился! Они связаны

	// ПРИМЕР 5: Создание среза байтов через make
	s := make([]byte, 5) // срез из 5 байтов, все равны 0

	fmt.Println(s) // [0 0 0 0 0]

	// ПРИМЕР 6: Двумерный срез (срез срезов)
	// make([][]int, 3) создаёт срез из 3 элементов, каждый элемент — nil срез
	twoD := make([][]int, 3) // срез из 3 срезов, пока все nil

	fmt.Println(twoD) // [[] [] []] — три пустых среза

	fmt.Println()

	// Заполняем двумерный срез: для каждой строки добавляем элементы
	for i := 0; i < len(twoD); i++ { // i — индекс строки (0, 1, 2)

		for j := 0; j < 2; j++ { // j — индекс столбца (0, 1), создаём по 2 элемента в строке

			// append добавляет элемент в срез twoD[i]
			// Если срез был nil, append создаёт новый срез
			twoD[i] = append(twoD[i], i*j) // добавляем произведение i*j
		}
	}
	// Результат:
	// twoD[0] = [0*0, 0*1] = [0, 0]
	// twoD[1] = [1*0, 1*1] = [0, 1]
	// twoD[2] = [2*0, 2*1] = [0, 2]

	// Выводим двумерный срез построчно
	for _, x := range twoD { // x — одна строка (срез []int)

		for i, y := range x { // i — индекс в строке, y — значение

			fmt.Println("i:", i, "value:", y)

		}

		fmt.Println() // пустая строка между строками

	}
	// Вывод:
	// i: 0 value: 0
	// i: 1 value: 0
	//
	// i: 0 value: 0
	// i: 1 value: 1
	//
	// i: 0 value: 0
	// i: 1 value: 2

}
