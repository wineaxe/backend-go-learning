package main

import (
	"fmt"
)

// Определение пользовательских типов на основе int
type Digit int // тип для цифр

type Power2 int // тип для степеней двойки

// Одиночная константа: PI — число пи (тип float64 выводится автоматически)
const PI = 3.1415926

// Блок констант: несколько констант в одном блоке
const (
	C1 = "C1C1C1" // строковая константа
	C2 = "C2C2C2" // строковая константа
	C3 = "C3C3C3" // строковая константа
)

func main() {

	// Локальная константа внутри функции main
	const s1 = 123 // нетипизированная константа (может использоваться с разными типами)

	// Константа s1 используется в выражении: s1 * 12
	// s1 автоматически преобразуется в float32 для умножения
	var v1 float32 = s1 * 12 // результат: 123 * 12 = 1476.0

	fmt.Println(v1) // 1476

	fmt.Println(PI) // 3.1415926

	// Генератор констант с использованием iota
	// iota — предопределённый идентификатор, который начинает с 0 и увеличивается на 1 в каждом const блоке
	const (
		Zero Digit = iota // Zero = 0 (тип Digit), iota = 0

		One // One = 1 (тип Digit наследуется, iota = 1)

		Two // Two = 2 (iota = 2)

		Three // Three = 3 (iota = 3)

		Four // Four = 4 (iota = 4)
	)
	// Эквивалентно:
	// const (
	//   Zero Digit = 0
	//   One Digit = 1
	//   Two Digit = 2
	//   Three Digit = 3
	//   Four Digit = 4
	// )

	fmt.Println(One) // 1

	fmt.Println(Two) // 2

	/* Этот блок закомментирован, чтобы показать эквивалентность с блоком выше
	// Явное объявление констант (эквивалентно блоку с iota выше)
	const (
		Zero = 0

		One = 1

		Two = 2

		Three = 3

		Four = 4
	)
	*/

	// iota с битовыми сдвигами для вычисления степеней двойки
	// 1 << iota — это 1 сдвинутое влево на iota позиций (2^iota)
	const (
		p2_0 Power2 = 1 << iota // p2_0 = 1 << 0 = 1 (2^0 = 1)

		_ // пустой идентификатор — пропускаем значение (iota = 1, но не используем)

		p2_2 // p2_2 = 1 << 2 = 4 (2^2 = 4), iota = 2

		_ // пропускаем (iota = 3)

		p2_4 // p2_4 = 1 << 4 = 16 (2^4 = 16), iota = 4

		_ // пропускаем (iota = 5)

		p2_6 // p2_6 = 1 << 6 = 64 (2^6 = 64), iota = 6
	)
	// iota продолжает увеличиваться даже для пустых строк (_)

	fmt.Println("2^0:", p2_0) // 2^0: 1

	fmt.Println("2^2:", p2_2) // 2^2: 4

	fmt.Println("2^4:", p2_4) // 2^4: 16

	fmt.Println("2^6:", p2_6) // 2^6: 64

}
